# 编译原理

### 什么是编译

- 翻译程序：把某一种程序（源程序）等价地转换成另一种语言程序（目标程序）的程序
  - 编译程序：把某一种<u>高级语言程序</u>等价转换成另一种<u>低级语言程序</u>（如编译语言或机器程序）的程序。（如C语言，PASCAL语言等是编译程序）
  - 解释程序：把源语言写的源程序作为输入，但<u>不产生目标程序</u>，而是边解释边执行源程序本身。（如BAIC语言是解释程序）

### 源程序 -> 目标程序

- 编译过程
  1. 词法分析
  2. 语法分析
  3. 语义分析
  4. 中间代码生成
  5. 代码优化
  6. 目标代码生成

### 1.词法分析

- 从左到右一个一个字符地读入源程序，对构成源程序的字符进行扫描和分解，从而识别出一个个<u>单词</u>。

### 2.语法分析

- 单词符号串（Token串） -> 语法分析 -> 语法短语

- 识别规则：语法规则（描述程序结构的规则，通常是由<u>递归规则</u>表示的）
  - 递归规则
    1. 代换
    2. 层层分解
    3. 优先规则 到 无限集合
- 描述工具：<u>上下文无关文法</u>

### 3.语义分析

### 4.向中间代码实现

- 任务：讲源程序生成一种内部表达形式，这种内部表示形式叫中间代码

```
(1) (inttoreal 10  -  t1)
(2) (*         id3 t1 t2)
(3) (+         id2 t2 t3)
(4) (:=        t3  -  id1)
```

### 5.代码优化

```
(1) (* id3 10.0  t1)
(2) (* id2 t1    id1)
```

### 6.目标代码生成

```
MOV  id3,   R2
MUL  #10.0  R2
MOV  id2    R1
ADD  R2     R1
MOV  R1     id1
```

